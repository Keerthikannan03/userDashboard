import{n as z}from"./nodata-CrGk8vIx.js";import{g as i,h as T,r as s,c as b,o as c,F as $,e as L,b as l,d as D,s as B,w as r,a,t as f,I as y,_ as q,G as E,p as G,u as M,L as R}from"./index-C7buHmQt.js";import{c as S}from"./storeApi-BZGVzZ7X.js";import{D as H,T as J}from"./DeleteDialog-BFg4SK8H.js";const K={class:"row g-3 pb-2 overflow-y-auto",style:{height:"80vh"}},O={class:"col-sm-3 col-12"},Q={class:"col-sm-9 col-12 py-2 px-3"},W={class:"mb-1"},X={class:"m-0"},Y={class:"my-1"},Z={class:"mb-0 text-truncate"},tt={class:"d-flex flex-wrap flex-sm-column flex-row justify-start align-items-start ga-1 mt-auto"},et={__name:"ProductList",props:{productDatas:{type:Array,default:()=>[]}},emits:["view-page","delete-item"],setup(I,{emit:N}){const k=N,d=I,v=i([]),m=i(-1),p=i(!1),V=i([]),h=g=>{m.value=g,p.value=!0};return T(()=>d.productDatas,g=>{g&&(v.value=d.productDatas),console.log(v.value,"productsDataproductsData")}),(g,e)=>{const C=s("v-img"),n=s("v-card-subtitle"),t=s("v-btn"),_=s("v-card-text"),P=s("v-card");return c(),b("div",K,[(c(!0),b($,null,L(d.productDatas,(u,w)=>(c(),b("div",{key:u.id,class:"col-xxl-4 col-xl-6 col-lg-6"},[l(P,{hover:"",class:"d-flex card-list d-flex flex-wrap"},{default:r(()=>[a("div",O,[l(C,{src:u.images[0],width:"100%",height:"110px","min-height":"100%",contain:"",class:"border border-1 rounded-2 rounded-top-0 rounded-end-0 p-1"},null,8,["src"])]),a("div",Q,[a("h6",W,f(u.title),1),l(n,{class:"p-0"},{default:r(()=>[y(f(u.description),1)]),_:2},1024),l(_,{class:"d-flex flex-wrap justify-content-between p-0 pt-2"},{default:r(()=>[a("div",null,[a("p",X,[e[2]||(e[2]=a("span",{class:"text-muted"},"Price: ",-1)),a("span",null,f(u.price),1)]),a("p",Y,[e[3]||(e[3]=a("span",{class:"text-muted"},"Brand: ",-1)),a("span",null,f(u.brand),1)]),a("p",Z,[e[4]||(e[4]=a("span",{class:"text-muted"},"Category: ",-1)),a("span",null,f(u.category),1)])]),a("div",tt,[l(t,{onClick:x=>k("view-page",u.id,w),loading:V.value[w],size:"small",color:"primary",variant:"text"},{default:r(()=>e[5]||(e[5]=[y("View")])),_:2},1032,["onClick","loading"]),l(t,{onClick:x=>h(w),size:"small",color:"red",variant:"text"},{default:r(()=>e[6]||(e[6]=[y("Delete")])),_:2},1032,["onClick"])])]),_:2},1024)])]),_:2},1024),m.value==w?(c(),D(H,{key:0,modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=x=>p.value=x),userData:u,deleteType:"product",onCloseDialog:e[1]||(e[1]=x=>p.value=!1),"max-width":"380",persistent:""},null,8,["modelValue","userData"])):B("",!0)]))),128))])}}},at={class:"d-flex flex-wrap justify-content-between align-items-center ga-2"},ot={class:"d-flex flex-wrap"},st={__name:"products",setup(I){const{manageStore:N}=E(),k=R(),d=i([]),v=i(!0),m=i(""),p=i(null),V=i([{text:"Products",value:"product"},{text:"Card",value:"card"}]),h=async()=>{await S("/products").then(t=>{d.value=t.data.products,d.value.length==0?v.value=!1:v.value=!0}).catch(t=>{console.log(t,"erasdasdasdror")})},g=async n=>{const t=`/products/search?q=${n}`;await S(t).then(_=>{d.value=_.data.products,d.value.length==0?v.value=!1:v.value=!0}).catch(_=>{console.log(_,"reeerwewew")})},e=i([]),C=(n,t)=>{e.value[t]=!0,console.log(n,"uid"),k.push({name:"viewproduct",params:{id:n}}).then(()=>{e.value[t]=!1}).catch(()=>{e.value[t]=!1})};return T(m,n=>{(!n||n&&n.length==0)&&h()}),G(()=>{h()}),(n,t)=>{const _=s("v-btn"),P=s("v-divider"),u=s("v-tab"),w=s("v-tabs"),x=s("v-tabs-window-item"),U=s("v-tabs-window"),j=s("v-card-text"),A=s("v-card"),F=s("v-img");return c(),b("div",null,[a("div",at,[a("div",ot,[t[4]||(t[4]=a("h2",null,"Products Lists",-1)),l(J,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=o=>m.value=o),onInput:t[1]||(t[1]=o=>g(m.value)),density:"compact",placeholder:"Search Products","prepend-inner-icon":"mdi-magnify",style:{width:"230px"},variant:"solo",clearable:"","onClick:clear":h,"hide-details":"",class:"ms-md-4 ms-0 h-100"},null,8,["modelValue"])]),l(_,{to:"/dashboard/products/addproduct",class:"text-none",color:"#1976d2"},{default:r(()=>t[5]||(t[5]=[y("Add Product")])),_:1})]),l(P),l(A,{class:"d-none"},{default:r(()=>[l(w,{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=o=>p.value=o),"bg-color":"primary"},{default:r(()=>[(c(!0),b($,null,L(V.value,o=>(c(),D(u,{key:o,value:o.value},{default:r(()=>[y(f(o.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),l(j,null,{default:r(()=>[l(U,{modelValue:p.value,"onUpdate:modelValue":t[3]||(t[3]=o=>p.value=o)},{default:r(()=>[(c(!0),b($,null,L(V.value,o=>(c(),D(x,{key:o,value:o.value},{default:r(()=>[y(f(o.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),d.value.length!==0?(c(),D(et,{key:0,productDatas:d.value,onViewPage:C},null,8,["productDatas"])):B("",!0),d.value.length===0?(c(),D(F,{key:1,src:M(z),width:"80%",class:"m-auto"},null,8,["src"])):B("",!0)])}}},ut=q(st,[["__scopeId","data-v-e0d8e9ae"]]);export{ut as default};
