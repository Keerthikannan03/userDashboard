import{n as F}from"./nodata-CrGk8vIx.js";import{g as n,h as S,r as s,c as b,o as c,F as $,e as L,b as r,d as h,s as z,w as d,a,t as f,I as y,_ as q,G as E,p as G,u as M,L as R}from"./index-BmujVwhB.js";import{c as N}from"./storeApi-BZGVzZ7X.js";import{D as H,T as J}from"./DeleteDialog-DlbrWZzz.js";const K={class:"row g-3 pb-2 overflow-y-auto",style:{height:"80vh"}},O={class:"col-sm-3 col-12"},Q={class:"col-sm-9 col-12 py-2 px-3"},W={class:"mb-1"},X={class:"m-0"},Y={class:"my-1"},Z={class:"mb-0 text-truncate"},tt={class:"d-flex flex-wrap flex-sm-column flex-row justify-start align-items-start ga-1 mt-auto"},et={__name:"ProductList",props:{productDatas:{type:Array,default:()=>[]}},emits:["view-page","delete-item"],setup(B,{emit:I}){const k=I,v=B,i=n([]),m=n(-1),p=n(!1),D=n([]),V=g=>{m.value=g,p.value=!0};return S(()=>v.productDatas,g=>{g&&(i.value=v.productDatas),console.log(i.value,"productsDataproductsData")}),(g,e)=>{const C=s("v-img"),l=s("v-card-subtitle"),t=s("v-btn"),_=s("v-card-text"),P=s("v-card");return c(),b("div",K,[(c(!0),b($,null,L(i.value,(u,w)=>(c(),b("div",{key:u.id,class:"col-xxl-4 col-xl-6 col-lg-6"},[r(P,{hover:"",class:"d-flex card-list d-flex flex-wrap"},{default:d(()=>[a("div",O,[r(C,{src:u.images[0],width:"100%",height:"110px","min-height":"100%",contain:"",class:"border border-1 rounded-2 rounded-top-0 rounded-end-0 p-1"},null,8,["src"])]),a("div",Q,[a("h6",W,f(u.title),1),r(l,{class:"p-0"},{default:d(()=>[y(f(u.description),1)]),_:2},1024),r(_,{class:"d-flex flex-wrap justify-content-between p-0 pt-2"},{default:d(()=>[a("div",null,[a("p",X,[e[2]||(e[2]=a("span",{class:"text-muted"},"Price: ",-1)),a("span",null,f(u.price),1)]),a("p",Y,[e[3]||(e[3]=a("span",{class:"text-muted"},"Brand: ",-1)),a("span",null,f(u.brand),1)]),a("p",Z,[e[4]||(e[4]=a("span",{class:"text-muted"},"Category: ",-1)),a("span",null,f(u.category),1)])]),a("div",tt,[r(t,{onClick:x=>k("view-page",u.id,w),loading:D.value[w],size:"small",color:"primary",variant:"text"},{default:d(()=>e[5]||(e[5]=[y("View")])),_:2},1032,["onClick","loading"]),r(t,{onClick:x=>V(w),size:"small",color:"red",variant:"text"},{default:d(()=>e[6]||(e[6]=[y("Delete")])),_:2},1032,["onClick"])])]),_:2},1024)])]),_:2},1024),m.value==w?(c(),h(H,{key:0,modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=x=>p.value=x),userData:u,deleteType:"product",onCloseDialog:e[1]||(e[1]=x=>p.value=!1),"max-width":"380",persistent:""},null,8,["modelValue","userData"])):z("",!0)]))),128))])}}},at={class:"d-flex flex-wrap justify-content-between align-items-center ga-2"},ot={class:"d-flex flex-wrap"},st={__name:"products",setup(B){const{manageStore:I}=E(),k=R(),v=n([]),i=n(!0),m=n("");n(-1),n(!1);const p=n(null),D=n([{text:"Products",value:"product"},{text:"Card",value:"card"}]),V=async()=>{await N("/products").then(t=>{v.value=t.data.products,v.value.length==0?i.value=!1:i.value=!0}).catch(t=>{console.log(t,"erasdasdasdror")})},g=async l=>{const t=`/products/search?q=${l}`;await N(t).then(_=>{v.value=_.data.products,v.value.length==0?i.value=!1:i.value=!0}).catch(_=>{console.log(_,"reeerwewew")})},e=n([]),C=(l,t)=>{e.value[t]=!0,console.log(l,"uid"),k.push({name:"viewproduct",params:{id:l}}).then(()=>{e.value[t]=!1}).catch(()=>{e.value[t]=!1})};return n([]),S(m,l=>{(!l||l&&l.length==0)&&(console.log(l,"newVal"),V())}),G(()=>{V()}),(l,t)=>{const _=s("v-btn"),P=s("v-divider"),u=s("v-tab"),w=s("v-tabs"),x=s("v-tabs-window-item"),T=s("v-tabs-window"),U=s("v-card-text"),j=s("v-card"),A=s("v-img");return c(),b("div",null,[a("div",at,[a("div",ot,[t[4]||(t[4]=a("h2",null,"Products Lists",-1)),r(J,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=o=>m.value=o),onInput:t[1]||(t[1]=o=>g(m.value)),density:"compact",placeholder:"Search Products","prepend-inner-icon":"mdi-magnify",style:{width:"230px"},variant:"solo",clearable:"","hide-details":"",class:"ms-md-4 ms-0 h-100"},null,8,["modelValue"])]),r(_,{to:"/dashboard/products/addproduct",class:"text-none",color:"#1976d2"},{default:d(()=>t[5]||(t[5]=[y("Add Product")])),_:1})]),r(P),r(j,{class:"d-none"},{default:d(()=>[r(w,{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=o=>p.value=o),"bg-color":"primary"},{default:d(()=>[(c(!0),b($,null,L(D.value,o=>(c(),h(u,{key:o,value:o.value},{default:d(()=>[y(f(o.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),r(U,null,{default:d(()=>[r(T,{modelValue:p.value,"onUpdate:modelValue":t[3]||(t[3]=o=>p.value=o)},{default:d(()=>[(c(!0),b($,null,L(D.value,o=>(c(),h(x,{key:o,value:o.value},{default:d(()=>[y(f(o.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),i.value?(c(),h(et,{key:0,productDatas:v.value,onViewPage:C},null,8,["productDatas"])):(c(),h(A,{key:1,src:M(F),width:"80%",class:"m-auto"},null,8,["src"]))])}}},ut=q(st,[["__scopeId","data-v-9655fd8e"]]);export{ut as default};
