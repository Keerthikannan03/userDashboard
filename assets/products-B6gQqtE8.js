import{g as i,h as S,r as n,c as _,o as d,F as D,e as V,b as o,d as $,v as T,w as r,a as t,t as w,K as b,_ as q,I as E,q as K,N as M}from"./index-BdVUA5NW.js";import{c as I}from"./storeApi-BZGVzZ7X.js";import{D as R,T as G}from"./DeleteDialog-BPik6660.js";const H={class:"row g-3 pb-2 overflow-y-auto",style:{height:"80vh"}},J={class:"col-sm-3 col-12"},O={class:"col-sm-9 col-12 py-2 px-3"},Q={class:"mb-1"},W={class:"m-0"},X={class:"my-1"},Y={class:"mb-0 text-truncate"},Z={class:"d-flex flex-wrap flex-sm-column flex-row justify-start align-items-start ga-1 mt-auto"},ee={__name:"ProductList",props:{productDatas:{type:Array,default:()=>[]}},emits:["view-page","delete-item"],setup(N,{emit:B}){const C=B,c=N,m=i([]),f=i(-1),p=i(!1),k=i([]),h=g=>{f.value=g,p.value=!0};return S(()=>c.productDatas,g=>{g&&(m.value=c.productDatas),console.log(m.value,"productsDataproductsData")}),(g,s)=>{const P=n("v-img"),a=n("v-btn"),e=n("v-card-subtitle"),x=n("v-card-text"),L=n("v-card");return d(),_("div",H,[(d(!0),_(D,null,V(c.productDatas,(u,y)=>(d(),_("div",{key:u.id,class:"col-xxl-4 col-xl-6 col-lg-6"},[o(L,{hover:"",class:"d-flex card-list d-flex flex-wrap"},{default:r(()=>[t("div",J,[o(P,{src:u.images[0],width:"100%",height:"110px","min-height":"100%",contain:"",class:"border border-1 rounded-2 rounded-top-0 rounded-end-0 p-1"},null,8,["src"])]),t("div",O,[t("h6",Q,[t("span",null,w(u.title),1),o(a,{color:"warning",icon:"mdi-cart-plus",size:"small",density:"comfortable"})]),o(e,{class:"p-0"},{default:r(()=>[b(w(u.description),1)]),_:2},1024),o(x,{class:"d-flex flex-wrap justify-content-between p-0 pt-2"},{default:r(()=>[t("div",null,[t("p",W,[s[2]||(s[2]=t("span",{class:"text-muted"},"Price: ",-1)),t("span",null,w(u.price),1)]),t("p",X,[s[3]||(s[3]=t("span",{class:"text-muted"},"Brand: ",-1)),t("span",null,w(u.brand),1)]),t("p",Y,[s[4]||(s[4]=t("span",{class:"text-muted"},"Category: ",-1)),t("span",null,w(u.category),1)])]),t("div",Z,[o(a,{onClick:v=>C("view-page",u.id,y),loading:k.value[y],size:"small",color:"primary",variant:"text"},{default:r(()=>s[5]||(s[5]=[b("View")])),_:2},1032,["onClick","loading"]),o(a,{onClick:v=>h(y),size:"small",color:"red",variant:"text"},{default:r(()=>s[6]||(s[6]=[b("Delete")])),_:2},1032,["onClick"])])]),_:2},1024)])]),_:2},1024),f.value==y?(d(),$(R,{key:0,modelValue:p.value,"onUpdate:modelValue":s[0]||(s[0]=v=>p.value=v),userData:u,deleteType:"product",onCloseDialog:s[1]||(s[1]=v=>p.value=!1),"max-width":"380",persistent:""},null,8,["modelValue","userData"])):T("",!0)]))),128))])}}},te={class:"d-flex flex-wrap justify-content-between align-items-center ga-2"},oe={class:"d-flex flex-wrap"},se={key:1,class:"row g-3 pb-2 overflow-y-auto",style:{height:"80vh"}},le={hover:"",class:"d-flex card-list d-flex flex-wrap"},ae={class:"col-sm-3 col-12"},ne={class:"col-sm-9 col-12 pb-2 px-3"},de={class:"d-flex justify-content-between"},re={__name:"products",setup(N){const{manageStore:B}=E(),C=M(),c=i([]),m=i(!0),f=i(""),p=i(null),k=i([{text:"Products",value:"product"},{text:"Card",value:"card"}]),h=async()=>{await I("/products").then(e=>{c.value=e.data.products,c.value.length==0?m.value=!1:m.value=!0}).catch(e=>{console.log(e,"erasdasdasdror")})},g=async a=>{const e=`/products/search?q=${a}`;await I(e).then(x=>{c.value=x.data.products,c.value.length==0?m.value=!1:m.value=!0}).catch(x=>{console.log(x,"reeerwewew")})},s=i([]),P=(a,e)=>{s.value[e]=!0,console.log(a,"uid"),C.push({name:"viewproduct",params:{id:a}}).then(()=>{s.value[e]=!1}).catch(()=>{s.value[e]=!1})};return S(f,a=>{(!a||a&&a.length==0)&&h()}),K(()=>{h()}),(a,e)=>{const x=n("v-btn"),L=n("v-divider"),u=n("v-tab"),y=n("v-tabs"),v=n("v-skeleton-loader"),j=n("v-tabs-window-item"),U=n("v-tabs-window"),z=n("v-card-text"),A=n("v-card");return d(),_("div",null,[t("div",te,[t("div",oe,[e[4]||(e[4]=t("h2",null,"Products Lists",-1)),o(G,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=l=>f.value=l),onInput:e[1]||(e[1]=l=>g(f.value)),density:"compact",placeholder:"Search Products","prepend-inner-icon":"mdi-magnify",style:{width:"230px"},variant:"solo",clearable:"","onClick:clear":h,"hide-details":"",class:"ms-md-4 ms-0 h-100"},null,8,["modelValue"])]),o(x,{to:"/dashboard/products/addproduct",class:"text-none",color:"#1976d2"},{default:r(()=>e[5]||(e[5]=[b("Add Product")])),_:1})]),o(L,{class:"my-2"}),o(A,null,{default:r(()=>[o(y,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=l=>p.value=l),color:"#1976d2"},{default:r(()=>[(d(!0),_(D,null,V(k.value,l=>(d(),$(u,{key:l,value:l.value},{default:r(()=>[b(w(l.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),o(z,{class:"px-1"},{default:r(()=>[o(U,{modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=l=>p.value=l)},{default:r(()=>[(d(!0),_(D,null,V(k.value,l=>(d(),_(D,{key:l},[l.value=="product"?(d(),$(j,{key:0,value:l.value},{default:r(()=>[c.value&&c.value.length>0?(d(),$(ee,{key:0,productDatas:c.value,onViewPage:P},null,8,["productDatas"])):(d(),_("div",se,[(d(),_(D,null,V(15,F=>t("div",{key:F,class:"col-xxl-4 col-xl-6 col-lg-6"},[t("div",le,[t("div",ae,[o(v,{type:"image"})]),t("div",ne,[o(v,{type:"list-item-two-line"}),t("div",de,[o(v,{type:"list-item-three-line",class:"w-50"}),o(v,{type:"actions",class:"w-50"})])])])])),64))]))]),_:2},1032,["value"])):T("",!0),o(j,{value:l.value},{default:r(()=>e[6]||(e[6]=[b(w("No Data"))])),_:2},1032,["value"])],64))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])}}},pe=q(re,[["__scopeId","data-v-1e10bf9a"]]);export{pe as default};
