import{q as Z,s as ee,g as v,v as ne,x as ie,y as le,z as Q,b as l,m as T,A as se,B as de,F as I,C as M,D as L,E as G,G as ue,H as re,I as ce,J as te,K as me,n as ve,L as fe,M as H,N as J,O as pe,P as ge,Q as ye,R as be,S as Ve,T as ke,U as he,W as we,X as Ue,i as xe,j as Pe,c as A,a as o,w as c,r as V,Y as Se,o as F,l as z,k as X,u as Y,t as _e,e as Ce}from"./index-CMceiCXv.js";import{c as Ie}from"./storeApi-BZGVzZ7X.js";const De="/user-dashboard/assets/defaultUpload-BOMeoVUq.png",Be=ee({clearable:Boolean,file:{type:Object,default:null},fileIcon:{type:String,default:"mdi-file-document"},showSize:Boolean,...de({border:!0,rounded:!0,lines:"two"})},"VFileUploadItem"),qe=Z()({name:"VFileUploadItem",props:Be(),emits:{"click:remove":()=>!0,click:t=>!0},setup(t,U){let{emit:x,slots:s}=U;const f=v(),D=ne(()=>typeof t.showSize!="boolean"?t.showSize:void 0);function p(){x("click:remove")}ie(()=>{var g;f.value=(g=t.file)!=null&&g.type.startsWith("image")?URL.createObjectURL(t.file):void 0}),le(()=>{var k,P,a;const g=Q.filterProps(t);return l(Q,T(g,{title:t.title??((k=t.file)==null?void 0:k.name),subtitle:t.showSize?se((P=t.file)==null?void 0:P.size,D.value):(a=t.file)==null?void 0:a.type,class:"v-file-upload-item"}),{...s,prepend:y=>l(I,null,[s.prepend?l(L,{defaults:{VAvatar:{image:f.value,icon:f.value?void 0:t.fileIcon,rounded:!0}}},{default:()=>{var b;return[((b=s.prepend)==null?void 0:b.call(s,y))??l(G,null,null)]}}):l(G,{icon:t.fileIcon,image:f.value,rounded:!0},null)]),append:y=>{var b;return l(I,null,[t.clearable&&l(I,null,[s.clear?l(L,{defaults:{VBtn:{icon:"$clear",density:"comfortable",variant:"text"}}},{default:()=>{var _;return[((_=s.clear)==null?void 0:_.call(s,{...y,props:{onClick:p}}))??l(M,null,null)]}}):l(M,{icon:"$clear",density:"comfortable",variant:"text",onClick:p},null)]),(b=s.append)==null?void 0:b.call(s,y)])}})})}}),$e=ee({browseText:{type:String,default:"$vuetify.fileUpload.browse"},dividerText:{type:String,default:"$vuetify.fileUpload.divider"},title:{type:String,default:"$vuetify.fileUpload.title"},subtitle:String,icon:{type:we,default:"$upload"},modelValue:{type:[Array,Object],default:null,validator:t=>te(t).every(U=>U!=null&&typeof U=="object")},clearable:Boolean,disabled:Boolean,hideBrowse:Boolean,multiple:Boolean,scrim:{type:[Boolean,String],default:!0},showSize:Boolean,name:String,...he(),...ke(),...Ve(Ue({length:150}),["length","thickness","opacity"]),...be()},"VFileUpload"),Ae=Z()({name:"VFileUpload",inheritAttrs:!1,props:$e(),emits:{"update:modelValue":t=>!0},setup(t,U){let{attrs:x,slots:s}=U;const{t:f}=ue(),{densityClasses:D}=re(t),p=ce(t,"modelValue",t.modelValue,n=>te(n),n=>t.multiple||Array.isArray(t.modelValue)?n:n[0]),g=me(!1),k=v(null),P=v(null);ve(()=>{var n,r;(n=k.value)==null||n.$el.addEventListener("dragover",a),(r=k.value)==null||r.$el.addEventListener("drop",b)}),fe(()=>{var n,r;(n=k.value)==null||n.$el.removeEventListener("dragover",a),(r=k.value)==null||r.$el.removeEventListener("drop",b)});function a(n){n.preventDefault(),n.stopImmediatePropagation(),g.value=!0}function y(n){n.preventDefault(),g.value=!1}function b(n){var S;n.preventDefault(),n.stopImmediatePropagation(),g.value=!1;const r=Array.from(((S=n.dataTransfer)==null?void 0:S.files)??[]);if(!r.length)return;if(!t.multiple){p.value=[r[0]];return}const h=p.value.slice();for(const $ of r)h.some(C=>C.name===$.name)||h.push($);p.value=h}function _(){var n;(n=P.value)==null||n.click()}function E(n){const r=p.value.filter((h,S)=>S!==n);p.value=r,!(r.length>0||!P.value)&&(P.value.value="")}le(()=>{const n=!!(s.title||t.title),r=!!(s.icon||t.icon),h=!!(!t.hideBrowse&&(s.browse||t.density==="default")),S=H.filterProps(t),$=J.filterProps(t),[C,O]=pe(x),u=l("input",T({ref:P,type:"file",disabled:t.disabled,multiple:t.multiple,name:t.name,onChange:e=>{if(!e.target)return;const d=e.target;p.value=[...d.files??[]]}},O),null);return l(I,null,[l(H,T({ref:k},S,{class:["v-file-upload",{"v-file-upload--clickable":!h,"v-file-upload--disabled":t.disabled,"v-file-upload--dragging":g.value},D.value,t.class],style:[t.style],onDragleave:y,onDragover:a,onDrop:b,onClick:h?void 0:_},C),{default:()=>{var e,d,w;return[r&&l("div",{key:"icon",class:"v-file-upload-icon"},[s.icon?l(L,{key:"icon-defaults",defaults:{VIcon:{icon:t.icon}}},{default:()=>[s.icon()]}):l(ge,{key:"icon-icon",icon:t.icon},null)]),n&&l("div",{key:"title",class:"v-file-upload-title"},[((e=s.title)==null?void 0:e.call(s))??f(t.title)]),t.density==="default"&&l(I,null,[l("div",{key:"upload-divider",class:"v-file-upload-divider"},[((d=s.divider)==null?void 0:d.call(s))??l(J,$,{default:()=>[f(t.dividerText)]})]),h&&l(I,null,[s.browse?l(L,{defaults:{VBtn:{readonly:t.disabled,size:"large",text:f(t.browseText),variant:"tonal"}}},{default:()=>[s.browse({props:{onClick:_}})]}):l(M,{readonly:t.disabled,size:"large",text:f(t.browseText),variant:"tonal",onClick:_},null)]),t.subtitle&&l("div",{class:"v-file-upload-subtitle"},[t.subtitle])]),l(ye,{"model-value":g.value,contained:!0,scrim:t.scrim},null),((w=s.input)==null?void 0:w.call(s,{inputNode:u}))??u]}}),p.value.length>0&&l("div",{class:"v-file-upload-items"},[p.value.map((e,d)=>{const w={file:e,props:{"onClick:remove":()=>E(d)}};return l(L,{key:d,defaults:{VFileUploadItem:{file:e,clearable:t.clearable,disabled:t.disabled,showSize:t.showSize}}},{default:()=>{var B;return[((B=s.item)==null?void 0:B.call(s,w))??l(qe,{key:d,"onClick:remove":()=>E(d)},s)]}})})])])})}}),Fe={class:"d-flex align-items-center"},ze={class:"row pb-2 overflow-y-auto overflow-x-hidden border-bottom",style:{height:"80vh"}},Le={class:"col-md-6"},Ee={class:"mt-3"},Oe={class:"row"},Re={class:"mt-3"},Te={class:"row"},Me={class:"mt-3"},Ne={class:"col-md-6 mt-md-0 mt-3"},je={class:"p-2"},Ke={class:"d-flex align-center"},We={class:"row g-1"},Qe={class:"col-lg-3 col-md-6 file-upload"},Ge={key:0,class:"text-caption mt-1",style:{color:"#B00020"}},He={key:0,class:"col-md-3",style:{height:"150px"}},Je={class:"mt-3"},Xe={class:"row"},Ye={class:"row"},Ze={class:"mt-3"},el={class:"row"},ll={class:"p-2 text-end"},nl={__name:"addproduct",setup(t){const{manageStore:U}=xe(),x=v(),s=v(null),f=v(!1),D=v("");v("");const p=v(!1),g=v(!1),k=v(["Nike","Adidas","Puma","Reebok"]),P=v(["Shoes","Clothing","Accessories","Electronics"]),a=Pe({id:null,title:null,description:"",brand:[],categories:[],quantity:"",stock:"",sku:"",rating:"",selectedSelling:[],images:[],weight:[],length:"",breadth:"",width:"",discountPercentage:null,price:null}),y=v(!1);function b(u){Object.values(u).forEach(e=>{const d=new FileReader;d.onload=async w=>{a.images.push(w.target.result)},d.readAsDataURL(e)})}function _(u){f.value=!1,D.value="";const e=u.target.files;b(e)}function E(u){const e=u.key;/^\d$/.test(e)||u.preventDefault()}const n=v([u=>!!u&&!!u.length>0||"This Field is required"]);function r(u,e){return[d=>d&&d.length>=u||`Min ${u} characters are allowed`,d=>d&&d.length<=e||`Max ${e} characters are allowed`]}function h(){return!s.value||s.value.length===0?(f.value=!0,D.value="Please upload image",!1):!0}async function S(){const{valid:u}=await x.value.validate();u&&h()&&(y.value=!0,await Ie("/products/add12",{payload:a,method:"POST"}).then(d=>{d.data&&(a.images=[],U(d,"Product"),setTimeout(()=>{y.value=!1,x.value.reset()},2e3))}).catch(d=>{var B,m;p.value=!1,g.value=!0;let w=((m=(B=d==null?void 0:d.response)==null?void 0:B.data)==null?void 0:m.message)??null;U(d,"Product"),setTimeout(()=>{y.value=!1,w||(x.value.reset(),a.images=[])},2e3)}))}function $(){s.value=null,a.images=[],x.value.reset()}function C(u){const e=u.key;/^\d$|^\.$/.test(e)||u.preventDefault()}function O(u){a.images.splice(u,1)}return(u,e)=>{const d=V("v-icon"),w=V("router-link"),B=V("v-divider"),m=V("v-text-field"),ae=V("v-textarea"),q=V("v-card"),N=V("v-select"),R=V("v-checkbox"),j=V("v-img"),K=V("v-btn"),oe=V("v-form");return F(),A(I,null,[o("div",Fe,[l(w,{to:"/dashboard/products",class:"me-2"},{default:c(()=>[l(d,{size:"35",class:"border border-1"},{default:c(()=>e[21]||(e[21]=[z("mdi-arrow-left")])),_:1})]),_:1}),e[22]||(e[22]=o("h2",{class:"mb-0"},"Add product",-1))]),l(B,{class:"my-2"}),o("div",null,[l(oe,{ref_key:"productform",ref:x,onSubmit:e[20]||(e[20]=Se(i=>S(),["prevent"]))},{default:c(()=>[o("div",ze,[o("div",Le,[o("div",null,[e[23]||(e[23]=o("div",{class:"p-2"},[o("h6",null,"Description")],-1)),l(q,{class:"p-2"},{default:c(()=>[l(m,{modelValue:a.title,"onUpdate:modelValue":e[0]||(e[0]=i=>a.title=i),rules:[...n.value,...r(2,50)],label:"Product Name",density:"compact",variant:"outlined",required:""},null,8,["modelValue","rules"]),l(ae,{modelValue:a.description,"onUpdate:modelValue":e[1]||(e[1]=i=>a.description=i),rules:[...n.value,...r(2,200)],counter:200,label:"Product Description",density:"compact",variant:"outlined",required:""},null,8,["modelValue","rules"])]),_:1})]),o("div",Ee,[e[24]||(e[24]=o("div",{class:"p-2"},[o("h6",null,"Categories")],-1)),l(q,{class:"p-2"},{default:c(()=>[o("div",Oe,[l(N,{modelValue:a.brand,"onUpdate:modelValue":e[2]||(e[2]=i=>a.brand=i),rules:n.value,items:k.value,label:"Product Brand",density:"compact",variant:"outlined",required:"",class:"col-md-6"},null,8,["modelValue","rules","items"]),l(N,{modelValue:a.categories,"onUpdate:modelValue":e[3]||(e[3]=i=>a.categories=i),rules:n.value,items:P.value,label:"Product Categories",density:"compact",variant:"outlined",required:"",class:"col-md-6"},null,8,["modelValue","rules","items"])])]),_:1})]),o("div",Re,[e[25]||(e[25]=o("div",{class:"p-2"},[o("h6",null,"Inventory")],-1)),l(q,{class:"p-2"},{default:c(()=>[o("div",Te,[l(m,{modelValue:a.quantity,"onUpdate:modelValue":e[4]||(e[4]=i=>a.quantity=i),rules:n.value,label:"Quantity",density:"compact",variant:"outlined",required:"",type:"number",class:"col-md-6"},null,8,["modelValue","rules"]),l(m,{modelValue:a.stock,"onUpdate:modelValue":e[5]||(e[5]=i=>a.stock=i),rules:n.value,label:"Stock",density:"compact",variant:"outlined",required:"",type:"number",class:"col-md-6"},null,8,["modelValue","rules"]),l(m,{modelValue:a.sku,"onUpdate:modelValue":e[6]||(e[6]=i=>a.sku=i),label:"sku (Optional)",density:"compact",variant:"outlined",required:"",class:"col-md-6"},null,8,["modelValue"]),l(m,{modelValue:a.rating,"onUpdate:modelValue":e[7]||(e[7]=i=>a.rating=i),rules:n.value,label:"Rating",density:"compact",variant:"outlined",required:"",type:"number",class:"col-md-6"},null,8,["modelValue","rules"])])]),_:1})]),o("div",Me,[e[26]||(e[26]=o("div",{class:"p-2"},[o("h6",null,"Selling Type")],-1)),l(q,{class:"p-2 sellingCheckbox"},{default:c(()=>[l(R,{modelValue:a.selectedSelling,"onUpdate:modelValue":e[8]||(e[8]=i=>a.selectedSelling=i),label:"In-store selling only",value:"instoreOnly",density:"compact"},null,8,["modelValue"]),l(R,{modelValue:a.selectedSelling,"onUpdate:modelValue":e[9]||(e[9]=i=>a.selectedSelling=i),label:"Online selling only",value:"onlineOnly",density:"compact"},null,8,["modelValue"]),l(R,{modelValue:a.selectedSelling,"onUpdate:modelValue":e[10]||(e[10]=i=>a.selectedSelling=i),label:"Available both store and online",value:"bothOnlineStore",density:"compact"},null,8,["modelValue"])]),_:1})])]),o("div",Ne,[o("div",null,[o("div",je,[o("h6",Ke,[e[28]||(e[28]=o("span",{class:"me-1"},"Product Images",-1)),l(d,{size:"16"},{default:c(()=>e[27]||(e[27]=[z("mdi-help-circle-outline")])),_:1})])]),l(q,{"max-height":"320px",class:"p-2 overflow-auto"},{default:c(()=>[o("div",We,[o("div",Qe,[l(Y(Ae),{modelValue:s.value,"onUpdate:modelValue":e[11]||(e[11]=i=>s.value=i),onChange:_,"error-messages":["Please upload image"],icon:"mdi-image-plus",density:"comfortable",variant:"compact",multiple:"",class:"py-4 px-2 me-2",style:{"max-width":"200px",width:"100%","min-width":"100%",height:"150px"}},{title:c(()=>e[29]||(e[29]=[o("div",{style:{"font-size":"14px"}},[o("span",{class:"text-info text-decoration-underline"},"Click to Upload image "),o("span",null,"or Drag and drop")],-1)])),_:1},8,["modelValue"]),f.value?(F(),A("div",Ge,_e(D.value),1)):X("",!0)]),(F(!0),A(I,null,Ce(a.images,(i,W)=>(F(),A("div",{key:W,class:"col-lg-3 col-md-6 product-image position-relative",style:{height:"150px"}},[l(j,{src:i,width:"100%",height:"100%",class:"border border-1 rounded"},null,8,["src"]),l(d,{onClick:tl=>O(W),class:"position-absolute top-0 right-0 ma-1 bg-light rounded-5"},{default:c(()=>e[30]||(e[30]=[z("mdi-close")])),_:2},1032,["onClick"])]))),128)),a.images.length==0?(F(),A("div",He,[l(j,{src:Y(De),width:"100%",height:"100%",cover:""},null,8,["src"])])):X("",!0)])]),_:1})]),o("div",Je,[e[32]||(e[32]=o("div",{class:"p-2"},[o("h6",null,"Delivery and Shipping")],-1)),l(q,{class:"p-2"},{default:c(()=>[o("div",Xe,[l(m,{modelValue:a.weight,"onUpdate:modelValue":e[12]||(e[12]=i=>a.weight=i),rules:n.value,onKeypress:C,label:"Items Weight",density:"compact",variant:"outlined",required:"",suffix:"kg"},null,8,["modelValue","rules"]),o("div",null,[e[31]||(e[31]=o("span",null,"Package Sizes",-1)),o("div",Ye,[l(m,{modelValue:a.length,"onUpdate:modelValue":e[13]||(e[13]=i=>a.length=i),rules:n.value,onKeypress:C,label:"Length",density:"compact",variant:"outlined",required:"",suffix:"cm",class:"col-md-4"},null,8,["modelValue","rules"]),l(m,{modelValue:a.breadth,"onUpdate:modelValue":e[14]||(e[14]=i=>a.breadth=i),rules:n.value,onKeypress:C,label:"Breadth",density:"compact",variant:"outlined",required:"",suffix:"cm",class:"col-md-4"},null,8,["modelValue","rules"]),l(m,{modelValue:a.width,"onUpdate:modelValue":e[15]||(e[15]=i=>a.width=i),rules:n.value,onKeypress:C,label:"Width",density:"compact",variant:"outlined",required:"",suffix:"cm",class:"col-md-4"},null,8,["modelValue","rules"])])])])]),_:1})]),o("div",Ze,[e[33]||(e[33]=o("div",{class:"p-2"},[o("h6",null,"Pricing")],-1)),l(q,{class:"p-2"},{default:c(()=>[o("div",el,[l(m,{modelValue:a.discountPercentage,"onUpdate:modelValue":e[16]||(e[16]=i=>a.discountPercentage=i),rules:n.value,label:"Discount Percentage",density:"compact",variant:"outlined",required:"","append-inner-icon":"mdi-percent",class:"col-md-6"},null,8,["modelValue","rules"]),l(m,{modelValue:a.price,"onUpdate:modelValue":e[17]||(e[17]=i=>a.price=i),rules:n.value,onKeypress:E,density:"compact",label:"Price",variant:"outlined",required:"","append-inner-icon":"mdi-currency-inr",class:"col-md-6"},null,8,["modelValue","rules"])])]),_:1})])])]),o("div",ll,[l(K,{onClick:e[18]||(e[18]=i=>$()),color:"warning",class:"me-2"},{default:c(()=>e[34]||(e[34]=[z("Clear")])),_:1}),l(K,{onClick:e[19]||(e[19]=i=>S()),loading:y.value,disabled:y.value,type:"submit",color:"success"},{default:c(()=>e[35]||(e[35]=[z("Save Product")])),_:1},8,["loading","disabled"])])]),_:1},512)])],64)}}};export{nl as default};
