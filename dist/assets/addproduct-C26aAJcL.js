import{K as ee,L as le,h as v,k as de,E as ue,M as te,N as G,b as l,m as N,O as re,P as ce,F as I,Q as K,R as E,S as H,T as me,U as ve,W as fe,X as ae,Y as pe,p as ge,Z as ye,$ as X,a0 as Y,a1 as be,a2 as Ve,a3 as ke,a4 as he,a5 as we,a6 as xe,a7 as Ue,a8 as Pe,a9 as Se,G as _e,H as Ce,c as z,a as n,w as c,r as b,B as Ie,o as q,I as L,d as De,s as R,t as Z,u as J,e as Be}from"./index-BTqfTJMj.js";import{c as $e}from"./storeApi-BZGVzZ7X.js";const qe="/userDashboard/assets/defaultUpload-BOMeoVUq.png",Fe=le({clearable:Boolean,file:{type:Object,default:null},fileIcon:{type:String,default:"mdi-file-document"},showSize:Boolean,...ce({border:!0,rounded:!0,lines:"two"})},"VFileUploadItem"),Ae=ee()({name:"VFileUploadItem",props:Fe(),emits:{"click:remove":()=>!0,click:t=>!0},setup(t,x){let{emit:U,slots:i}=x;const f=v(),D=de(()=>typeof t.showSize!="boolean"?t.showSize:void 0);function p(){U("click:remove")}ue(()=>{var g;f.value=(g=t.file)!=null&&g.type.startsWith("image")?URL.createObjectURL(t.file):void 0}),te(()=>{var k,P,a;const g=G.filterProps(t);return l(G,N(g,{title:t.title??((k=t.file)==null?void 0:k.name),subtitle:t.showSize?re((P=t.file)==null?void 0:P.size,D.value):(a=t.file)==null?void 0:a.type,class:"v-file-upload-item"}),{...i,prepend:y=>l(I,null,[i.prepend?l(E,{defaults:{VAvatar:{image:f.value,icon:f.value?void 0:t.fileIcon,rounded:!0}}},{default:()=>{var V;return[((V=i.prepend)==null?void 0:V.call(i,y))??l(H,null,null)]}}):l(H,{icon:t.fileIcon,image:f.value,rounded:!0},null)]),append:y=>{var V;return l(I,null,[t.clearable&&l(I,null,[i.clear?l(E,{defaults:{VBtn:{icon:"$clear",density:"comfortable",variant:"text"}}},{default:()=>{var _;return[((_=i.clear)==null?void 0:_.call(i,{...y,props:{onClick:p}}))??l(K,null,null)]}}):l(K,{icon:"$clear",density:"comfortable",variant:"text",onClick:p},null)]),(V=i.append)==null?void 0:V.call(i,y)])}})})}}),ze=le({browseText:{type:String,default:"$vuetify.fileUpload.browse"},dividerText:{type:String,default:"$vuetify.fileUpload.divider"},title:{type:String,default:"$vuetify.fileUpload.title"},subtitle:String,icon:{type:Pe,default:"$upload"},modelValue:{type:[Array,Object],default:null,validator:t=>ae(t).every(x=>x!=null&&typeof x=="object")},clearable:Boolean,disabled:Boolean,hideBrowse:Boolean,multiple:Boolean,scrim:{type:[Boolean,String],default:!0},showSize:Boolean,name:String,...Ue(),...xe(),...we(Se({length:150}),["length","thickness","opacity"]),...he()},"VFileUpload"),Le=ee()({name:"VFileUpload",inheritAttrs:!1,props:ze(),emits:{"update:modelValue":t=>!0},setup(t,x){let{attrs:U,slots:i}=x;const{t:f}=me(),{densityClasses:D}=ve(t),p=fe(t,"modelValue",t.modelValue,s=>ae(s),s=>t.multiple||Array.isArray(t.modelValue)?s:s[0]),g=pe(!1),k=v(null),P=v(null);ge(()=>{var s,r;(s=k.value)==null||s.$el.addEventListener("dragover",a),(r=k.value)==null||r.$el.addEventListener("drop",V)}),ye(()=>{var s,r;(s=k.value)==null||s.$el.removeEventListener("dragover",a),(r=k.value)==null||r.$el.removeEventListener("drop",V)});function a(s){s.preventDefault(),s.stopImmediatePropagation(),g.value=!0}function y(s){s.preventDefault(),g.value=!1}function V(s){var S;s.preventDefault(),s.stopImmediatePropagation(),g.value=!1;const r=Array.from(((S=s.dataTransfer)==null?void 0:S.files)??[]);if(!r.length)return;if(!t.multiple){p.value=[r[0]];return}const h=p.value.slice();for(const F of r)h.some(C=>C.name===F.name)||h.push(F);p.value=h}function _(){var s;(s=P.value)==null||s.click()}function O(s){const r=p.value.filter((h,S)=>S!==s);p.value=r,!(r.length>0||!P.value)&&(P.value.value="")}te(()=>{const s=!!(i.title||t.title),r=!!(i.icon||t.icon),h=!!(!t.hideBrowse&&(i.browse||t.density==="default")),S=X.filterProps(t),F=Y.filterProps(t),[C,T]=be(U),u=l("input",N({ref:P,type:"file",disabled:t.disabled,multiple:t.multiple,name:t.name,onChange:e=>{if(!e.target)return;const d=e.target;p.value=[...d.files??[]]}},T),null);return l(I,null,[l(X,N({ref:k},S,{class:["v-file-upload",{"v-file-upload--clickable":!h,"v-file-upload--disabled":t.disabled,"v-file-upload--dragging":g.value},D.value,t.class],style:[t.style],onDragleave:y,onDragover:a,onDrop:V,onClick:h?void 0:_},C),{default:()=>{var e,d,w;return[r&&l("div",{key:"icon",class:"v-file-upload-icon"},[i.icon?l(E,{key:"icon-defaults",defaults:{VIcon:{icon:t.icon}}},{default:()=>[i.icon()]}):l(Ve,{key:"icon-icon",icon:t.icon},null)]),s&&l("div",{key:"title",class:"v-file-upload-title"},[((e=i.title)==null?void 0:e.call(i))??f(t.title)]),t.density==="default"&&l(I,null,[l("div",{key:"upload-divider",class:"v-file-upload-divider"},[((d=i.divider)==null?void 0:d.call(i))??l(Y,F,{default:()=>[f(t.dividerText)]})]),h&&l(I,null,[i.browse?l(E,{defaults:{VBtn:{readonly:t.disabled,size:"large",text:f(t.browseText),variant:"tonal"}}},{default:()=>[i.browse({props:{onClick:_}})]}):l(K,{readonly:t.disabled,size:"large",text:f(t.browseText),variant:"tonal",onClick:_},null)]),t.subtitle&&l("div",{class:"v-file-upload-subtitle"},[t.subtitle])]),l(ke,{"model-value":g.value,contained:!0,scrim:t.scrim},null),((w=i.input)==null?void 0:w.call(i,{inputNode:u}))??u]}}),p.value.length>0&&l("div",{class:"v-file-upload-items"},[p.value.map((e,d)=>{const w={file:e,props:{"onClick:remove":()=>O(d)}};return l(E,{key:d,defaults:{VFileUploadItem:{file:e,clearable:t.clearable,disabled:t.disabled,showSize:t.showSize}}},{default:()=>{var B;return[((B=i.item)==null?void 0:B.call(i,w))??l(Ae,{key:d,"onClick:remove":()=>O(d)},i)]}})})])])})}}),Ee={class:"d-flex align-items-center"},Oe={class:"row pb-2 overflow-y-auto overflow-x-hidden border-bottom",style:{height:"80vh"}},Re={class:"col-md-6"},Te={class:"mt-3"},Me={class:"row"},Ne={key:1,class:"text-grey text-caption align-self-center"},Ke={class:"mt-3"},je={class:"row"},We={class:"mt-3"},Qe={class:"col-md-6 mt-md-0 mt-3"},Ge={class:"p-2"},He={class:"d-flex align-center"},Xe={class:"row g-1"},Ye={class:"col-xl-3 col-lg-4 col-md-6 col-sm-6 file-upload"},Ze={key:0,class:"text-caption mt-1",style:{color:"#b00020"}},Je={key:0,class:"col-xl-3 col-lg-4 col-md-6 col-sm-6",style:{height:"150px"}},el={class:"mt-3"},ll={class:"row"},tl={class:"row"},al={class:"mt-3"},ol={class:"row"},nl={class:"p-2 text-end"},dl={__name:"addproduct",setup(t){const{manageStore:x}=_e(),U=v(),i=v(null),f=v(!1),D=v("");v("");const p=v(!1),g=v(!1),k=v(["Nike","Adidas","Puma","Reebok"]),P=v(["Shoes","Clothing","Accessories","Electronics"]),a=Ce({id:null,title:null,description:"",brand:[],categories:[],quantity:"",stock:"",sku:"",rating:"",selectedSelling:[],images:[],weight:[],length:"",breadth:"",width:"",discountPercentage:null,price:null}),y=v(!1);function V(u){Object.values(u).forEach(e=>{const d=new FileReader;d.onload=async w=>{a.images.push(w.target.result)},d.readAsDataURL(e)})}function _(u){f.value=!1,D.value="";const e=u.target.files;V(e)}function O(u){const e=u.key;/^\d$/.test(e)||u.preventDefault()}const s=v([u=>!!u&&!!u.length>0||"This Field is required"]);function r(u,e){return[d=>d&&d.length>=u||`Min ${u} characters are allowed`,d=>d&&d.length<=e||`Max ${e} characters are allowed`]}function h(){return!i.value||i.value.length===0?(f.value=!0,D.value="Please upload image",!1):!0}async function S(){const{valid:u}=await U.value.validate();u&&h()&&(y.value=!0,await $e("/products/add12",{payload:a,method:"POST"}).then(d=>{d.data&&(a.images=[],x(d,"Product"),setTimeout(()=>{y.value=!1,U.value.reset()},2e3))}).catch(d=>{var B,m;p.value=!1,g.value=!0;let w=((m=(B=d==null?void 0:d.response)==null?void 0:B.data)==null?void 0:m.message)??null;x(d,"Product"),setTimeout(()=>{y.value=!1,w||(U.value.reset(),a.images=[])},2e3)}))}function F(){i.value=null,a.images=[],U.value.reset()}function C(u){const e=u.key;/^\d$|^\.$/.test(e)||u.preventDefault()}function T(u){a.images.splice(u,1)}return(u,e)=>{const d=b("v-icon"),w=b("router-link"),B=b("v-divider"),m=b("v-text-field"),oe=b("v-textarea"),$=b("v-card"),j=b("v-select"),ne=b("v-chip"),M=b("v-checkbox"),W=b("v-img"),Q=b("v-btn"),se=b("v-form");return q(),z(I,null,[n("div",Ee,[l(w,{to:"/dashboard/products",class:"me-2"},{default:c(()=>[l(d,{size:"35",class:"border border-1"},{default:c(()=>e[21]||(e[21]=[L("mdi-arrow-left")])),_:1})]),_:1}),e[22]||(e[22]=n("h2",{class:"mb-0"},"Add product",-1))]),l(B,{class:"my-2"}),n("div",null,[l(se,{ref_key:"productform",ref:U,onSubmit:e[20]||(e[20]=Ie(o=>S(),["prevent"]))},{default:c(()=>[n("div",Oe,[n("div",Re,[n("div",null,[e[23]||(e[23]=n("div",{class:"p-2"},[n("h6",null,"Description")],-1)),l($,{class:"p-2"},{default:c(()=>[l(m,{modelValue:a.title,"onUpdate:modelValue":e[0]||(e[0]=o=>a.title=o),rules:[...s.value,...r(2,50)],label:"Product Name",variant:"outlined",required:""},null,8,["modelValue","rules"]),l(oe,{modelValue:a.description,"onUpdate:modelValue":e[1]||(e[1]=o=>a.description=o),rules:[...s.value,...r(2,200)],counter:200,label:"Product Description",density:"compact",variant:"outlined",required:""},null,8,["modelValue","rules"])]),_:1})]),n("div",Te,[e[24]||(e[24]=n("div",{class:"p-2"},[n("h6",null,"Categories")],-1)),l($,{class:"p-2"},{default:c(()=>[n("div",Me,[l(j,{modelValue:a.brand,"onUpdate:modelValue":e[2]||(e[2]=o=>a.brand=o),rules:s.value,items:k.value,label:"Product Brand",density:"compact",variant:"outlined",required:"",class:"col-md-6"},null,8,["modelValue","rules","items"]),l(j,{modelValue:a.categories,"onUpdate:modelValue":e[3]||(e[3]=o=>a.categories=o),rules:s.value,items:P.value,label:"Product Categories",density:"compact",variant:"outlined",required:"",multiple:"",class:"col-md-6 catagory-dropdown"},{selection:c(({item:o,index:A})=>[A<2?(q(),De(ne,{key:0,size:"small",density:"compact",text:o.title,closable:"","onClick:close":ie=>a.categories.splice(A,1)},null,8,["text","onClick:close"])):R("",!0),A===2?(q(),z("span",Ne," (+"+Z(a.categories.length-2)+" others) ",1)):R("",!0)]),_:1},8,["modelValue","rules","items"])])]),_:1})]),n("div",Ke,[e[25]||(e[25]=n("div",{class:"p-2"},[n("h6",null,"Inventory")],-1)),l($,{class:"p-2"},{default:c(()=>[n("div",je,[l(m,{modelValue:a.quantity,"onUpdate:modelValue":e[4]||(e[4]=o=>a.quantity=o),rules:s.value,label:"Quantity",density:"compact",variant:"outlined",required:"",type:"number",class:"col-md-6"},null,8,["modelValue","rules"]),l(m,{modelValue:a.stock,"onUpdate:modelValue":e[5]||(e[5]=o=>a.stock=o),rules:s.value,label:"Stock",density:"compact",variant:"outlined",required:"",type:"number",class:"col-md-6"},null,8,["modelValue","rules"]),l(m,{modelValue:a.sku,"onUpdate:modelValue":e[6]||(e[6]=o=>a.sku=o),label:"sku (Optional)",density:"compact",variant:"outlined",required:"",class:"col-md-6"},null,8,["modelValue"]),l(m,{modelValue:a.rating,"onUpdate:modelValue":e[7]||(e[7]=o=>a.rating=o),rules:s.value,label:"Rating",density:"compact",variant:"outlined",required:"",type:"number",class:"col-md-6"},null,8,["modelValue","rules"])])]),_:1})]),n("div",We,[e[26]||(e[26]=n("div",{class:"p-2"},[n("h6",null,"Selling Type")],-1)),l($,{class:"p-2 sellingCheckbox"},{default:c(()=>[l(M,{modelValue:a.selectedSelling,"onUpdate:modelValue":e[8]||(e[8]=o=>a.selectedSelling=o),label:"In-store selling only",value:"instoreOnly",density:"compact"},null,8,["modelValue"]),l(M,{modelValue:a.selectedSelling,"onUpdate:modelValue":e[9]||(e[9]=o=>a.selectedSelling=o),label:"Online selling only",value:"onlineOnly",density:"compact"},null,8,["modelValue"]),l(M,{modelValue:a.selectedSelling,"onUpdate:modelValue":e[10]||(e[10]=o=>a.selectedSelling=o),label:"Available both store and online",value:"bothOnlineStore",density:"compact"},null,8,["modelValue"])]),_:1})])]),n("div",Qe,[n("div",null,[n("div",Ge,[n("h6",He,[e[28]||(e[28]=n("span",{class:"me-1"},"Product Images",-1)),l(d,{size:"16"},{default:c(()=>e[27]||(e[27]=[L("mdi-help-circle-outline")])),_:1})])]),l($,{"max-height":"320px",class:"p-2 overflow-auto"},{default:c(()=>[n("div",Xe,[n("div",Ye,[l(J(Le),{modelValue:i.value,"onUpdate:modelValue":e[11]||(e[11]=o=>i.value=o),onChange:_,"error-messages":["Please upload image"],icon:"mdi-image-plus",density:"comfortable",variant:"compact",multiple:"",class:"py-4 px-2 me-2",style:{"max-width":"200px",width:"100%","min-width":"100%",height:"150px"}},{title:c(()=>e[29]||(e[29]=[n("div",{style:{"font-size":"14px"}},[n("span",{class:"text-info text-decoration-underline"},"Click to Upload image "),n("span",null,"or Drag and drop")],-1)])),_:1},8,["modelValue"]),f.value?(q(),z("div",Ze,Z(D.value),1)):R("",!0)]),(q(!0),z(I,null,Be(a.images,(o,A)=>(q(),z("div",{key:A,class:"col-xl-3 col-lg-4 col-md-6 col-sm-6 product-image position-relative",style:{height:"150px"}},[l(W,{src:o,width:"100%",height:"100%",class:"border border-1 rounded"},null,8,["src"]),l(d,{onClick:ie=>T(A),class:"position-absolute top-0 right-0 ma-1 bg-light rounded-5"},{default:c(()=>e[30]||(e[30]=[L("mdi-close")])),_:2},1032,["onClick"])]))),128)),a.images.length==0?(q(),z("div",Je,[l(W,{src:J(qe),width:"100%",height:"100%",cover:""},null,8,["src"])])):R("",!0)])]),_:1})]),n("div",el,[e[32]||(e[32]=n("div",{class:"p-2"},[n("h6",null,"Delivery and Shipping")],-1)),l($,{class:"p-2"},{default:c(()=>[n("div",ll,[l(m,{modelValue:a.weight,"onUpdate:modelValue":e[12]||(e[12]=o=>a.weight=o),rules:s.value,onKeypress:C,label:"Items Weight",density:"compact",variant:"outlined",required:"",suffix:"kg"},null,8,["modelValue","rules"]),n("div",null,[e[31]||(e[31]=n("span",null,"Package Sizes",-1)),n("div",tl,[l(m,{modelValue:a.length,"onUpdate:modelValue":e[13]||(e[13]=o=>a.length=o),rules:s.value,onKeypress:C,label:"Length",density:"compact",variant:"outlined",required:"",suffix:"cm",class:"col-md-4"},null,8,["modelValue","rules"]),l(m,{modelValue:a.breadth,"onUpdate:modelValue":e[14]||(e[14]=o=>a.breadth=o),rules:s.value,onKeypress:C,label:"Breadth",density:"compact",variant:"outlined",required:"",suffix:"cm",class:"col-md-4"},null,8,["modelValue","rules"]),l(m,{modelValue:a.width,"onUpdate:modelValue":e[15]||(e[15]=o=>a.width=o),rules:s.value,onKeypress:C,label:"Width",density:"compact",variant:"outlined",required:"",suffix:"cm",class:"col-md-4"},null,8,["modelValue","rules"])])])])]),_:1})]),n("div",al,[e[33]||(e[33]=n("div",{class:"p-2"},[n("h6",null,"Pricing")],-1)),l($,{class:"p-2"},{default:c(()=>[n("div",ol,[l(m,{modelValue:a.discountPercentage,"onUpdate:modelValue":e[16]||(e[16]=o=>a.discountPercentage=o),rules:s.value,label:"Discount Percentage",density:"compact",variant:"outlined",required:"","append-inner-icon":"mdi-percent",class:"col-md-6"},null,8,["modelValue","rules"]),l(m,{modelValue:a.price,"onUpdate:modelValue":e[17]||(e[17]=o=>a.price=o),rules:s.value,onKeypress:O,density:"compact",label:"Price",variant:"outlined",required:"","append-inner-icon":"mdi-currency-inr",class:"col-md-6"},null,8,["modelValue","rules"])])]),_:1})])])]),n("div",nl,[l(Q,{onClick:e[18]||(e[18]=o=>F()),color:"warning",class:"me-2"},{default:c(()=>e[34]||(e[34]=[L("Clear")])),_:1}),l(Q,{onClick:e[19]||(e[19]=o=>S()),loading:y.value,disabled:y.value,type:"submit",color:"success"},{default:c(()=>e[35]||(e[35]=[L("Save Product")])),_:1},8,["loading","disabled"])])]),_:1},512)])],64)}}};export{dl as default};
